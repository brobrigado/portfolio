{{ define "main" }}

  <section id="clients" class="bg-top cover bg-clients" >

<div class="custom-shape-divider-bottom-1769583005">
    <svg data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 120" preserveAspectRatio="none">
        <path d="M321.39,56.44c58-10.79,114.16-30.13,172-41.86,82.39-16.72,168.19-17.73,250.45-.39C823.78,31,906.67,72,985.66,92.83c70.05,18.48,146.53,26.09,214.34,3V0H0V27.35A600.21,600.21,0,0,0,321.39,56.44Z" class="shape-fill"></path>
    </svg>
</div>

      <div class="content-section pa3 pa4-ns pt5-ns pb5-ns mw8 center clients-container">
        <h2 class="f2 f1-ns lh-solid ma0 tc white">{{ .Params.clients_title }}</h2>

        <div class="client-logos">
          {{ range $clients_logos := .Params.clients_logos }}
            {{ if $clients_logos.link }}
              <a class="client-logos--link {{ $clients_logos.css_class }}" target="_blank" href="{{ $clients_logos.link }}">
                {{ with resources.Get $clients_logos.image }}
                  <img src="{{ .RelPermalink }}">
                {{ end }}
              </a>
            {{ else }}
              <div class="client-logos--link {{ $clients_logos.css_class }}">
                {{ with resources.Get $clients_logos.image }}
                  <img src="{{ .RelPermalink }}">
                {{ end }}
              </div>
            {{ end }}
          {{ end }}
        </div>

      </div>


  </section>

  <section id="projects" class="bg-top" style="background-image: url({{ .Params.projects_bg }});">

      <div class="content-section pa3 pa4-ns pt5-ns pb5-ns mw9 center">
        <h2 class="f2 f1-ns lh-solid ma0 tc white">{{ .Params.projects_title }}</h2>

    {{/* Define a section to pull recent posts from. For Hugo 0.20 this will default to the section with the most number of pages. */}}
    {{ $mainSections := .Site.Params.mainSections | default (slice "post") }}
    {{/* Create a variable with that section to use in multiple places. */}}
    {{ $section := where .Site.RegularPages "Section" "in" $mainSections }}
    {{/* Check to see if the section is defined for ranging through it */}}
    {{ $section_count := len $section }}
    {{ if ge $section_count 1 }}
      {{/* Derive the section name  */}}
      {{ $section_name := index (.Site.Params.mainSections) 0 }}
  

  
        {{ $n_posts := $.Param "recent_posts_number" | default 99 }}
  
        <div class="project-timeline">
          {{/* Range through the first $n_posts items of the section */}}
          {{ range (first $n_posts $section) }}
            {{ .Render "project-summary-with-image" }}
          {{ end }}
        </div>

        {{/* 
        <div class="w-100">
          {{ with .Site.GetPage "section" $section_name }}
            <a href="{{ .RelPermalink }}" class="link db f6 pa2 br3 bg-mid-gray white dim w4 tc">{{ i18n "allTitle" . }}</a>
          {{ end }}
        </div>
        */}}


    {{ end }}

      </div>

  </section>

{{ end }}
